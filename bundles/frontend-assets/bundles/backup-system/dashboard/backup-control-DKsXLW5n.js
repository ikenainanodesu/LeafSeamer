import{c as x,j as t,r as s}from"../../../client-tV2cqGBD.js";const g=()=>{const[i,c]=s.useState([]),[n,a]=s.useState(!1);s.useEffect(()=>{nodecg.Replicant("backupList").on("change",o=>{o&&c(o)})},[]);const l=()=>{a(!0),nodecg.sendMessage("createBackup",{},(e,o)=>{a(!1),e?(console.error("Backup failed:",e),alert("Backup failed: "+e.message)):console.log("Backup created:",o)})},d=e=>{if(e===0)return"0 B";const o=1024,p=["B","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(o));return parseFloat((e/Math.pow(o,r)).toFixed(2))+" "+p[r]};return t.jsxs("div",{style:{padding:"20px"},children:[t.jsx("button",{onClick:l,disabled:n,style:{padding:"10px 20px",backgroundColor:n?"#666":"#2196f3",color:"white",border:"none",borderRadius:"4px",cursor:n?"default":"pointer",fontSize:"16px",marginBottom:"20px",width:"100%"},children:n?"Creating Backup...":"Create New Backup"}),t.jsxs("div",{style:{backgroundColor:"#1e1e1e",borderRadius:"4px",padding:"10px"},children:[t.jsx("h3",{style:{marginTop:0,marginBottom:"10px",borderBottom:"1px solid #333",paddingBottom:"5px"},children:"Existing Backups"}),i.length===0?t.jsx("div",{style:{color:"#888",textAlign:"center",padding:"20px"},children:"No backups found."}):t.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:i.map(e=>t.jsxs("li",{style:{padding:"10px",borderBottom:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:e.filename}),t.jsx("div",{style:{fontSize:"12px",color:"#aaa"},children:new Date(e.timestamp).toLocaleString()})]}),t.jsx("div",{style:{fontSize:"14px",color:"#ccc"},children:d(e.size)})]},e.filename))})]})]})},u=x.createRoot(document.getElementById("root"));u.render(t.jsx(g,{}));
