import{c as x,j as e,r as s}from"../client-tV2cqGBD.js";const p=()=>{const[o,r]=s.useState(!1),[d,a]=s.useState(0),[i,l]=s.useState([]);return s.useEffect(()=>{nodecg.Replicant("mixerState").on("change",n=>{n&&(r(n.connected),a(n.lastUpdate),l(n.outputs?[...n.outputs]:[]))})},[]),o?e.jsxs("div",{style:{padding:"20px",overflowX:"auto"},children:[e.jsxs("p",{children:["Last Update: ",new Date(d).toLocaleTimeString()]}),e.jsxs("div",{style:{marginTop:"20px",display:"flex",flexDirection:"row",gap:"15px"},children:[i.map(t=>e.jsxs("div",{style:{minWidth:"200px",padding:"15px",backgroundColor:"#424242",borderRadius:"4px",border:t.isMuted?"1px solid #f44336":"1px solid #4caf50"},children:[e.jsx("h3",{style:{marginTop:0,marginBottom:"10px"},children:t.name}),e.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9em",color:"#aaa"},children:["ID: ",t.id]}),e.jsxs("p",{style:{margin:"5px 0"},children:[e.jsx("strong",{children:"Fader:"})," ",t.faderLevel===-32768?"-∞ dB":`${(t.faderLevel/100).toFixed(2)} dB`]}),e.jsx("input",{type:"range",min:"-10000",max:"1000",value:t.faderLevel<=-32768?-1e4:t.faderLevel,onChange:n=>{const c=parseInt(n.target.value);nodecg.sendMessageToBundle("setMixerOutputFader","mixer-control",{outputId:t.id,level:c})},style:{width:"100%",marginBottom:"10px"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[e.jsx("strong",{children:"Muted:"}),e.jsx("button",{onClick:()=>{nodecg.sendMessageToBundle("setMixerOutputMute","mixer-control",{outputId:t.id,isMuted:!t.isMuted})},style:{padding:"5px 10px",backgroundColor:t.isMuted?"#f44336":"#4caf50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:t.isMuted?"MUTED":"ON"})]}),e.jsxs("details",{onToggle:n=>{n.target.open&&nodecg.sendMessageToBundle("queryOutputRouting","mixer-control",{outputId:t.id})},children:[e.jsx("summary",{style:{cursor:"pointer",outline:"none"},children:"Input Sends"}),e.jsx("div",{style:{marginTop:"10px",maxHeight:"200px",overflowY:"auto"},children:t.inputSends&&t.inputSends.length>0?t.inputSends.map(n=>e.jsxs("div",{style:{fontSize:"0.9em",marginBottom:"5px"},children:[e.jsx("span",{children:n.inputName}),e.jsxs("span",{style:{float:"right"},children:[n.active?"ON":"OFF"," /"," ",n.level<=-32768?"-∞":(n.level/100).toFixed(1),"dB"]})]},n.inputId)):e.jsx("p",{style:{fontSize:"0.8em",color:"#aaa"},children:"No inputs routed (or click to load)"})})]})]},t.id)),i.length===0&&e.jsx("p",{children:"No output data available."})]})]}):e.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#aaa"},children:e.jsx("p",{children:"Mixer is disconnected. Please connect via the Connection panel."})})},g=x.createRoot(document.getElementById("root"));g.render(e.jsx(p,{}));
